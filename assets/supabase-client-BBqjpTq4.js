(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=e(a);fetch(a.href,r)}})();const _={supportedLanguages:{en:{name:"English",nativeName:"English",flag:"ðŸ‡¬ðŸ‡§"},pt:{name:"Portuguese",nativeName:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹"},es:{name:"Spanish",nativeName:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},cs:{name:"Czech",nativeName:"ÄŒeÅ¡tina",flag:"ðŸ‡¨ðŸ‡¿"},fr:{name:"French",nativeName:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},de:{name:"German",nativeName:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},it:{name:"Italian",nativeName:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},nl:{name:"Dutch",nativeName:"Nederlands",flag:"ðŸ‡³ðŸ‡±"},pl:{name:"Polish",nativeName:"Polski",flag:"ðŸ‡µðŸ‡±"},ja:{name:"Japanese",nativeName:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},zh:{name:"Chinese (Simplified)",nativeName:"ç®€ä½“ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},ko:{name:"Korean",nativeName:"í•œêµ­ì–´",flag:"ðŸ‡°ðŸ‡·"}},defaultLanguage:"en",currentLanguage:"en",translations:{en:{"splash.title":"Permaculture Network","splash.subtitle":"Growing connections for sustainable living","splash.loading":"Connecting the global permaculture community...","auth.logo":"ðŸŒ¿","auth.logo_splash":"ðŸŒ±","auth.login_welcome":"Welcome Back","auth.login_subtitle":"Sign in to your account","auth.magic_link":"Magic Link","auth.password":"Password","auth.email":"Email Address","auth.email_placeholder":"you@example.com","auth.send_magic_link":"Send Magic Link","auth.sign_in":"Sign In","auth.forgot_password":"Forgot your password?","auth.no_account":"Don't have an account?","auth.create_one":"Create one","auth.register_join":"Join Us","auth.register_create":"Create your account","auth.password_label":"Password","auth.password_placeholder":"Min. 6 characters","auth.password_hint":"Use a strong password with mix of letters and numbers","auth.confirm_password":"Confirm Password","auth.confirm_password_placeholder":"Confirm password","auth.terms_agreement":"I agree to the Terms of Service and Privacy Policy","auth.create_account":"Create Account","auth.have_account":"Already have an account?","auth.sign_in_link":"Sign in","auth.reset_title":"Reset Password","auth.reset_subtitle":"We'll send you a link to reset it","auth.send_reset_link":"Send Reset Link","auth.back_to_login":"Back to login","auth.new_password_title":"Create New Password","auth.new_password_subtitle":"Enter your new password","auth.new_password_label":"New Password","auth.new_password_placeholder":"Min. 6 characters","auth.new_confirm_password":"Confirm Password","auth.update_password":"Update Password","auth.profile_title":"Complete Your Profile","auth.profile_subtitle":"Help us get to know you","auth.basic_info":"Basic Information","auth.full_name":"Full Name","auth.full_name_placeholder":"Your name","auth.location":"Location","auth.location_placeholder":"City, Region","auth.bio":"Bio","auth.bio_placeholder":"Tell us about yourself and your interests...","auth.skills_interests":"Skills & Interests","auth.skills":"Skills","auth.skills_placeholder":"Add skills (press Enter)","auth.skills_hint":"E.g., Permaculture Design, Seed Saving, Composting","auth.interests":"Interests","auth.interests_placeholder":"Add interests (press Enter)","auth.interests_hint":"E.g., Agroforestry, Water Systems, Community Building","auth.looking_for":"What are you looking for?","auth.looking_for_placeholder":"Add what you're seeking (press Enter)","auth.looking_for_hint":"E.g., Collaboration, Mentorship, Learning, Employment","auth.visibility":"Visibility","auth.public_profile":"Make my profile public so others can find me","auth.complete_profile":"Complete Profile","auth.skip_for_now":"Skip for now","auth.check_email":"Check Your Email","auth.magic_link_sent":"We've sent a magic link to sign in","auth.magic_link_instructions":"Click the link in your email to sign in. The link expires in 24 hours.","auth.didnt_receive":"Didn't receive the email?","auth.resend_link":"Resend Link","auth.success":"Welcome!","auth.account_ready":"Your account is ready","auth.redirecting":"You're all set. Redirecting to your dashboard...","alert.success":"Success!","alert.error":"Error","alert.info":"Information","alert.magic_link_sent":"Magic link sent! Check your email.","alert.account_created":"Account created! Completing your profile...","alert.passwords_match":"Passwords do not match","alert.password_short":"Password must be at least 6 characters","alert.reset_link_sent":"Reset link sent! Check your email.","alert.password_updated":"Password updated successfully!","alert.profile_completed":"Profile completed! Redirecting...","alert.signing_in":"Signing in...","alert.link_resent":"Link resent! Check your email.","alert.invalid_credentials":"Invalid email or password","validation.required":"This field is required","validation.invalid_email":"Please enter a valid email address","validation.password_too_short":"Password must be at least 6 characters","validation.passwords_dont_match":"Passwords do not match","validation.fill_all_fields":"Please fill in all required fields","btn.submit":"Submit","btn.cancel":"Cancel","btn.save":"Save","btn.delete":"Delete","btn.edit":"Edit","btn.back":"Back","btn.next":"Next","btn.previous":"Previous","btn.logout":"Log Out","btn.close":"Close","btn.continue":"Continue","legal.privacy_policy":"Privacy Policy","legal.terms_service":"Terms of Service","legal.cookie_policy":"Cookie Policy","legal.contact":"Contact Us","legal.copyright":"Â© 2025 Permaculture Network. All rights reserved.","legal.agree_terms":"By registering, you agree to our Terms of Service and Privacy Policy","lang.select":"Select Language","lang.current":"Current Language","lang.change":"Change Language","common.email":"Email","common.password":"Password","common.name":"Name","common.location":"Location","common.bio":"Bio","common.skills":"Skills","common.interests":"Interests","common.projects":"Projects","common.resources":"Resources","common.community":"Community","common.dashboard":"Dashboard","common.settings":"Settings","common.profile":"Profile","common.search":"Search","common.filter":"Filter","common.loading":"Loading...","common.error":"An error occurred","common.success":"Success!","a11y.skip_to_content":"Skip to main content","a11y.close_menu":"Close menu","a11y.open_menu":"Open menu","a11y.loading":"Loading","a11y.required_field":"Required field"},pt:{"splash.title":"Rede Permacultura","splash.subtitle":"Crescendo conexÃµes para viver de forma sustentÃ¡vel","splash.loading":"Conectando a comunidade global de permacultura...","auth.logo":"ðŸŒ¿","auth.logo_splash":"ðŸŒ±","auth.login_welcome":"Bem-vindo de volta","auth.login_subtitle":"Entre na sua conta","auth.magic_link":"Link MÃ¡gico","auth.password":"Senha","auth.email":"EndereÃ§o de Email","auth.email_placeholder":"voce@exemplo.com","auth.send_magic_link":"Enviar Link MÃ¡gico","auth.sign_in":"Entrar","auth.forgot_password":"Esqueceu sua senha?","auth.no_account":"NÃ£o tem uma conta?","auth.create_one":"Crie uma","auth.register_join":"Junte-se a NÃ³s","auth.register_create":"Crie sua conta","auth.password_label":"Senha","auth.password_placeholder":"MÃ­n. 6 caracteres","auth.password_hint":"Use uma senha forte com letras e nÃºmeros","auth.confirm_password":"Confirme a Senha","auth.confirm_password_placeholder":"Confirme sua senha","auth.terms_agreement":"Concordo com os Termos de ServiÃ§o e PolÃ­tica de Privacidade","auth.create_account":"Criar Conta","auth.have_account":"JÃ¡ tem uma conta?","auth.sign_in_link":"Entre aqui","auth.reset_title":"Redefinir Senha","auth.reset_subtitle":"Enviaremos um link para redefinir","auth.send_reset_link":"Enviar Link de RedefiniÃ§Ã£o","auth.back_to_login":"Voltar para login","auth.new_password_title":"Criar Nova Senha","auth.new_password_subtitle":"Digite sua nova senha","auth.new_password_label":"Nova Senha","auth.new_password_placeholder":"MÃ­n. 6 caracteres","auth.new_confirm_password":"Confirme a Senha","auth.update_password":"Atualizar Senha","auth.profile_title":"Conclua Seu Perfil","auth.profile_subtitle":"Nos ajude a conhecÃª-lo","auth.basic_info":"InformaÃ§Ãµes BÃ¡sicas","auth.full_name":"Nome Completo","auth.full_name_placeholder":"Seu nome","auth.location":"LocalizaÃ§Ã£o","auth.location_placeholder":"Cidade, RegiÃ£o","auth.bio":"Bio","auth.bio_placeholder":"Fale-nos sobre vocÃª e seus interesses...","auth.skills_interests":"Habilidades & Interesses","auth.skills":"Habilidades","auth.skills_placeholder":"Adicione habilidades (pressione Enter)","auth.skills_hint":"Ex., Design de Permacultura, SalvaÃ§Ã£o de Sementes, Compostagem","auth.interests":"Interesses","auth.interests_placeholder":"Adicione interesses (pressione Enter)","auth.interests_hint":"Ex., Agrofloresta, Sistemas de Ãgua, ConstruÃ§Ã£o ComunitÃ¡ria","auth.looking_for":"O que vocÃª estÃ¡ procurando?","auth.looking_for_placeholder":"Adicione o que vocÃª procura (pressione Enter)","auth.looking_for_hint":"Ex., ColaboraÃ§Ã£o, Mentoria, Aprendizado, Emprego","auth.visibility":"Visibilidade","auth.public_profile":"Tornar meu perfil pÃºblico para que outros me encontrem","auth.complete_profile":"Concluir Perfil","auth.skip_for_now":"Pular por enquanto","auth.check_email":"Verifique Seu Email","auth.magic_link_sent":"Enviamos um link mÃ¡gico para entrar","auth.magic_link_instructions":"Clique no link em seu email para entrar. O link expira em 24 horas.","auth.didnt_receive":"NÃ£o recebeu o email?","auth.resend_link":"Reenviar Link","auth.success":"Bem-vindo!","auth.account_ready":"Sua conta estÃ¡ pronta","auth.redirecting":"Tudo pronto. Redirecionando para seu painel...","alert.success":"Sucesso!","alert.error":"Erro","alert.info":"InformaÃ§Ã£o","alert.magic_link_sent":"Link mÃ¡gico enviado! Verifique seu email.","alert.account_created":"Conta criada! Completando seu perfil...","alert.passwords_match":"As senhas nÃ£o correspondem","alert.password_short":"A senha deve ter pelo menos 6 caracteres","alert.reset_link_sent":"Link de redefiniÃ§Ã£o enviado! Verifique seu email.","alert.password_updated":"Senha atualizada com sucesso!","alert.profile_completed":"Perfil concluÃ­do! Redirecionando...","alert.signing_in":"Entrando...","alert.link_resent":"Link reenviado! Verifique seu email.","alert.invalid_credentials":"Email ou senha invÃ¡lido","validation.required":"Este campo Ã© obrigatÃ³rio","validation.invalid_email":"Digite um endereÃ§o de email vÃ¡lido","validation.password_too_short":"A senha deve ter pelo menos 6 caracteres","validation.passwords_dont_match":"As senhas nÃ£o correspondem","validation.fill_all_fields":"Preencha todos os campos obrigatÃ³rios","btn.submit":"Enviar","btn.cancel":"Cancelar","btn.save":"Salvar","btn.delete":"Deletar","btn.edit":"Editar","btn.back":"Voltar","btn.next":"PrÃ³ximo","btn.previous":"Anterior","btn.logout":"Sair","btn.close":"Fechar","btn.continue":"Continuar","legal.privacy_policy":"PolÃ­tica de Privacidade","legal.terms_service":"Termos de ServiÃ§o","legal.cookie_policy":"PolÃ­tica de Cookies","legal.contact":"Contate-nos","legal.copyright":"Â© 2025 Rede Permacultura. Todos os direitos reservados.","legal.agree_terms":"Ao registrar, vocÃª concorda com nossos Termos de ServiÃ§o e PolÃ­tica de Privacidade","lang.select":"Selecione o Idioma","lang.current":"Idioma Atual","lang.change":"Mudar Idioma","common.email":"Email","common.password":"Senha","common.name":"Nome","common.location":"LocalizaÃ§Ã£o","common.bio":"Bio","common.skills":"Habilidades","common.interests":"Interesses","common.projects":"Projetos","common.resources":"Recursos","common.community":"Comunidade","common.dashboard":"Painel","common.settings":"ConfiguraÃ§Ãµes","common.profile":"Perfil","common.search":"Pesquisar","common.filter":"Filtro","common.loading":"Carregando...","common.error":"Ocorreu um erro","common.success":"Sucesso!","a11y.skip_to_content":"Ir para conteÃºdo principal","a11y.close_menu":"Fechar menu","a11y.open_menu":"Abrir menu","a11y.loading":"Carregando","a11y.required_field":"Campo obrigatÃ³rio"},es:{"splash.title":"Red de Permacultura","splash.subtitle":"Creciendo conexiones para una vida sostenible","splash.loading":"Conectando la comunidad global de permacultura...","auth.logo":"ðŸŒ¿","auth.logo_splash":"ðŸŒ±","auth.login_welcome":"Bienvenido de vuelta","auth.login_subtitle":"Inicia sesiÃ³n en tu cuenta","auth.magic_link":"Enlace MÃ¡gico","auth.password":"ContraseÃ±a","auth.email":"DirecciÃ³n de Correo","auth.email_placeholder":"tu@ejemplo.com","auth.send_magic_link":"Enviar Enlace MÃ¡gico","auth.sign_in":"Iniciar SesiÃ³n","auth.forgot_password":"Â¿Olvidaste tu contraseÃ±a?","auth.no_account":"Â¿No tienes cuenta?","auth.create_one":"Crear una","auth.register_join":"Ãšnete a Nosotros","auth.register_create":"Crea tu cuenta","auth.password_label":"ContraseÃ±a","auth.password_placeholder":"MÃ­n. 6 caracteres","auth.password_hint":"Usa una contraseÃ±a fuerte con letras y nÃºmeros","auth.confirm_password":"Confirmar ContraseÃ±a","auth.confirm_password_placeholder":"Confirma tu contraseÃ±a","auth.terms_agreement":"Acepto los TÃ©rminos de Servicio y la PolÃ­tica de Privacidad","auth.create_account":"Crear Cuenta","auth.have_account":"Â¿Ya tienes una cuenta?","auth.sign_in_link":"Inicia sesiÃ³n","auth.reset_title":"Restablecer ContraseÃ±a","auth.reset_subtitle":"Te enviaremos un enlace para restablecerla","auth.send_reset_link":"Enviar Enlace de Restablecimiento","auth.back_to_login":"Volver a iniciar sesiÃ³n","auth.new_password_title":"Crear Nueva ContraseÃ±a","auth.new_password_subtitle":"Ingresa tu nueva contraseÃ±a","auth.new_password_label":"Nueva ContraseÃ±a","auth.new_password_placeholder":"MÃ­n. 6 caracteres","auth.new_confirm_password":"Confirmar ContraseÃ±a","auth.update_password":"Actualizar ContraseÃ±a","auth.profile_title":"Completa Tu Perfil","auth.profile_subtitle":"AyÃºdanos a conocerte","auth.basic_info":"InformaciÃ³n BÃ¡sica","auth.full_name":"Nombre Completo","auth.full_name_placeholder":"Tu nombre","auth.location":"UbicaciÃ³n","auth.location_placeholder":"Ciudad, RegiÃ³n","auth.bio":"BiografÃ­a","auth.bio_placeholder":"CuÃ©ntanos sobre ti e tus intereses...","auth.skills_interests":"Habilidades e Intereses","auth.skills":"Habilidades","auth.skills_placeholder":"AÃ±ade habilidades (presiona Enter)","auth.skills_hint":"Ej., DiseÃ±o de Permacultura, ConservaciÃ³n de Semillas, Compostaje","auth.interests":"Intereses","auth.interests_placeholder":"AÃ±ade intereses (presiona Enter)","auth.interests_hint":"Ej., AgroforesterÃ­a, Sistemas de Agua, ConstrucciÃ³n Comunitaria","auth.looking_for":"Â¿QuÃ© estÃ¡s buscando?","auth.looking_for_placeholder":"AÃ±ade lo que buscas (presiona Enter)","auth.looking_for_hint":"Ej., ColaboraciÃ³n, MentorÃ­a, Aprendizaje, Empleo","auth.visibility":"Visibilidad","auth.public_profile":"Hacer mi perfil pÃºblico para que otros me encuentren","auth.complete_profile":"Completar Perfil","auth.skip_for_now":"Saltar por ahora","auth.check_email":"Verifica Tu Correo","auth.magic_link_sent":"Hemos enviado un enlace mÃ¡gico para iniciar sesiÃ³n","auth.magic_link_instructions":"Haz clic en el enlace en tu correo para iniciar sesiÃ³n. El enlace expira en 24 horas.","auth.didnt_receive":"Â¿No recibiste el correo?","auth.resend_link":"Reenviar Enlace","auth.success":"Â¡Bienvenido!","auth.account_ready":"Tu cuenta estÃ¡ lista","auth.redirecting":"Todo listo. Redirigiendo a tu panel...","alert.success":"Â¡Ã‰xito!","alert.error":"Error","alert.info":"InformaciÃ³n","alert.magic_link_sent":"Â¡Enlace mÃ¡gico enviado! Verifica tu correo.","alert.account_created":"Â¡Cuenta creada! Completando tu perfil...","alert.passwords_match":"Las contraseÃ±as no coinciden","alert.password_short":"La contraseÃ±a debe tener al menos 6 caracteres","alert.reset_link_sent":"Â¡Enlace de restablecimiento enviado! Verifica tu correo.","alert.password_updated":"Â¡ContraseÃ±a actualizada exitosamente!","alert.profile_completed":"Â¡Perfil completado! Redirigiendo...","alert.signing_in":"Iniciando sesiÃ³n...","alert.link_resent":"Â¡Enlace reenviado! Verifica tu correo.","alert.invalid_credentials":"Correo o contraseÃ±a invÃ¡lidos","validation.required":"Este campo es obligatorio","validation.invalid_email":"Por favor ingresa un correo vÃ¡lido","validation.password_too_short":"La contraseÃ±a debe tener al menos 6 caracteres","validation.passwords_dont_match":"Las contraseÃ±as no coinciden","validation.fill_all_fields":"Por favor completa todos los campos obligatorios","btn.submit":"Enviar","btn.cancel":"Cancelar","btn.save":"Guardar","btn.delete":"Eliminar","btn.edit":"Editar","btn.back":"AtrÃ¡s","btn.next":"Siguiente","btn.previous":"Anterior","btn.logout":"Cerrar SesiÃ³n","btn.close":"Cerrar","btn.continue":"Continuar","legal.privacy_policy":"PolÃ­tica de Privacidad","legal.terms_service":"TÃ©rminos de Servicio","legal.cookie_policy":"PolÃ­tica de Cookies","legal.contact":"ContÃ¡ctanos","legal.copyright":"Â© 2025 Red de Permacultura. Todos los derechos reservados.","legal.agree_terms":"Al registrarte, aceptas nuestros TÃ©rminos de Servicio y PolÃ­tica de Privacidad","lang.select":"Selecciona Idioma","lang.current":"Idioma Actual","lang.change":"Cambiar Idioma","common.email":"Correo","common.password":"ContraseÃ±a","common.name":"Nombre","common.location":"UbicaciÃ³n","common.bio":"BiografÃ­a","common.skills":"Habilidades","common.interests":"Intereses","common.projects":"Proyectos","common.resources":"Recursos","common.community":"Comunidad","common.dashboard":"Panel","common.settings":"ConfiguraciÃ³n","common.profile":"Perfil","common.search":"Buscar","common.filter":"Filtro","common.loading":"Cargando...","common.error":"OcurriÃ³ un error","common.success":"Â¡Ã‰xito!","a11y.skip_to_content":"Ir al contenido principal","a11y.close_menu":"Cerrar menÃº","a11y.open_menu":"Abrir menÃº","a11y.loading":"Cargando","a11y.required_field":"Campo obligatorio"},cs:{"splash.title":"SÃ­Å¥ permakulturnÃ­ch komunit","splash.subtitle":"Budujeme propojenÃ­ pro udrÅ¾itelnÃ© Å¾ivotnÃ­ prostÅ™edÃ­","splash.loading":"PÅ™ipojujeme se ke globÃ¡lnÃ­ permakulturnÃ­ komunitÄ›...","auth.logo":"ðŸŒ¿","auth.logo_splash":"ðŸŒ±","auth.login_welcome":"VÃ­tejte zpÄ›t","auth.login_subtitle":"PÅ™ihlaste se ke svÃ©mu ÃºÄtu","auth.magic_link":"MagickÃ½ odkaz","auth.password":"Heslo","auth.email":"E-mailovÃ¡ adresa","auth.email_placeholder":"vas@email.cz","auth.send_magic_link":"Odeslat magickÃ½ odkaz","auth.sign_in":"PÅ™ihlÃ¡sit se","auth.forgot_password":"ZapomnÄ›li jste heslo?","auth.no_account":"NemÃ¡te ÃºÄet?","auth.create_one":"VytvoÅ™te si ho","auth.register_join":"PÅ™ipojte se k nÃ¡m","auth.register_create":"VytvoÅ™te si svÅ¯j ÃºÄet","auth.password_label":"Heslo","auth.password_placeholder":"MinimÃ¡lnÄ› 6 znakÅ¯","auth.password_hint":"PouÅ¾ijte silnÃ© heslo obsahujÃ­cÃ­ pÃ­smena a ÄÃ­sla","auth.confirm_password":"Potvrdit heslo","auth.confirm_password_placeholder":"PotvrÄte heslo","auth.terms_agreement":"SouhlasÃ­m s podmÃ­nkami pouÅ¾itÃ­ a zÃ¡sadami ochrany osobnÃ­ch ÃºdajÅ¯","auth.create_account":"VytvoÅ™it ÃºÄet","auth.have_account":"JiÅ¾ mÃ¡te ÃºÄet?","auth.sign_in_link":"PÅ™ihlÃ¡sit se","auth.reset_title":"Obnovit heslo","auth.reset_subtitle":"ZaÅ¡leme vÃ¡m odkaz pro obnovenÃ­ hesla","auth.send_reset_link":"Odeslat odkaz pro obnovenÃ­","auth.back_to_login":"ZpÄ›t na pÅ™ihlÃ¡Å¡enÃ­","auth.new_password_title":"VytvoÅ™it novÃ© heslo","auth.new_password_subtitle":"Zadejte svÃ© novÃ© heslo","auth.new_password_label":"NovÃ© heslo","auth.new_password_placeholder":"MinimÃ¡lnÄ› 6 znakÅ¯","auth.new_confirm_password":"Potvrdit heslo","auth.update_password":"Aktualizovat heslo","auth.profile_title":"DokonÄete svÅ¯j profil","auth.profile_subtitle":"Pomozte nÃ¡m vÃ¡s poznat","auth.basic_info":"ZÃ¡kladnÃ­ informace","auth.full_name":"CelÃ© jmÃ©no","auth.full_name_placeholder":"VaÅ¡e jmÃ©no","auth.location":"UmÃ­stÄ›nÃ­","auth.location_placeholder":"MÄ›sto, region","auth.bio":"O mnÄ›","auth.bio_placeholder":"Å˜eknÄ›te nÃ¡m o sobÄ› a svÃ½ch zÃ¡jmech...","auth.skills_interests":"Dovednosti a zÃ¡jmy","auth.skills":"Dovednosti","auth.skills_placeholder":"PÅ™idat dovednosti (stisknÄ›te Enter)","auth.skills_hint":"NapÅ™. PermakulturnÃ­ design, UchovÃ¡vÃ¡nÃ­ semen, KompostovÃ¡nÃ­","auth.interests":"ZÃ¡jmy","auth.interests_placeholder":"PÅ™idat zÃ¡jmy (stisknÄ›te Enter)","auth.interests_hint":"NapÅ™. AgrolesnictvÃ­, VodnÃ­ systÃ©my, BudovÃ¡nÃ­ komunity","auth.looking_for":"Co hledÃ¡te?","auth.looking_for_placeholder":"PÅ™idat, co hledÃ¡te (stisknÄ›te Enter)","auth.looking_for_hint":"NapÅ™. SpoluprÃ¡ce, MentorstvÃ­, VzdÄ›lÃ¡vÃ¡nÃ­, ZamÄ›stnÃ¡nÃ­","auth.visibility":"Viditelnost","auth.public_profile":"ZveÅ™ejnit mÅ¯j profil, aby mÄ› ostatnÃ­ mohli najÃ­t","auth.complete_profile":"DokonÄit profil","auth.skip_for_now":"PÅ™eskoÄit prozatÃ­m","auth.check_email":"Zkontrolujte svÅ¯j e-mail","auth.magic_link_sent":"Odeslali jsme vÃ¡m magickÃ½ odkaz pro pÅ™ihlÃ¡Å¡enÃ­","auth.magic_link_instructions":"KliknÄ›te na odkaz v e-mailu pro pÅ™ihlÃ¡Å¡enÃ­. Odkaz platÃ­ 24 hodin.","auth.didnt_receive":"NeobdrÅ¾eli jste e-mail?","auth.resend_link":"Odeslat znovu","auth.success":"VÃ­tejte!","auth.account_ready":"VÃ¡Å¡ ÃºÄet je pÅ™ipraven","auth.redirecting":"VÅ¡e je pÅ™ipraveno. PÅ™esmÄ›rovÃ¡vÃ¡me vÃ¡s na nÃ¡stÄ›nku...","alert.success":"ÃšspÄ›ch!","alert.error":"Chyba","alert.info":"Informace","alert.magic_link_sent":"MagickÃ½ odkaz odeslÃ¡n! Zkontrolujte svÅ¯j e-mail.","alert.account_created":"ÃšÄet vytvoÅ™en! DokonÄujeme vÃ¡Å¡ profil...","alert.passwords_match":"Hesla se neshodujÃ­","alert.password_short":"Heslo musÃ­ mÃ­t alespoÅˆ 6 znakÅ¯","alert.reset_link_sent":"Odkaz pro obnovenÃ­ odeslÃ¡n! Zkontrolujte svÅ¯j e-mail.","alert.password_updated":"Heslo bylo ÃºspÄ›Å¡nÄ› aktualizovÃ¡no!","alert.profile_completed":"Profil dokonÄen! PÅ™esmÄ›rovÃ¡vÃ¡me...","alert.signing_in":"PÅ™ihlaÅ¡ovÃ¡nÃ­...","alert.link_resent":"Odkaz odeslÃ¡n znovu! Zkontrolujte svÅ¯j e-mail.","alert.invalid_credentials":"NeplatnÃ½ e-mail nebo heslo","validation.required":"Toto pole je povinnÃ©","validation.invalid_email":"Zadejte platnou e-mailovou adresu","validation.password_too_short":"Heslo musÃ­ mÃ­t alespoÅˆ 6 znakÅ¯","validation.passwords_dont_match":"Hesla se neshodujÃ­","validation.fill_all_fields":"VyplÅˆte vÅ¡echna povinnÃ¡ pole","btn.submit":"Odeslat","btn.cancel":"ZruÅ¡it","btn.save":"UloÅ¾it","btn.delete":"Smazat","btn.edit":"Upravit","btn.back":"ZpÄ›t","btn.next":"DalÅ¡Ã­","btn.previous":"PÅ™edchozÃ­","btn.logout":"OdhlÃ¡sit se","btn.close":"ZavÅ™Ã­t","btn.continue":"PokraÄovat","legal.privacy_policy":"ZÃ¡sady ochrany osobnÃ­ch ÃºdajÅ¯","legal.terms_service":"PodmÃ­nky pouÅ¾itÃ­","legal.cookie_policy":"ZÃ¡sady pouÅ¾Ã­vÃ¡nÃ­ cookies","legal.contact":"Kontaktujte nÃ¡s","legal.copyright":"Â© 2025 SÃ­Å¥ permakulturnÃ­ch komunit. VÅ¡echna prÃ¡va vyhrazena.","legal.agree_terms":"RegistracÃ­ souhlasÃ­te s naÅ¡imi podmÃ­nkami pouÅ¾itÃ­ a zÃ¡sadami ochrany osobnÃ­ch ÃºdajÅ¯","lang.select":"Vybrat jazyk","lang.current":"AktuÃ¡lnÃ­ jazyk","lang.change":"ZmÄ›nit jazyk","common.email":"E-mail","common.password":"Heslo","common.name":"JmÃ©no","common.location":"UmÃ­stÄ›nÃ­","common.bio":"O mnÄ›","common.skills":"Dovednosti","common.interests":"ZÃ¡jmy","common.projects":"Projekty","common.resources":"Zdroje","common.community":"Komunita","common.dashboard":"NÃ¡stÄ›nka","common.settings":"NastavenÃ­","common.profile":"Profil","common.search":"Hledat","common.filter":"Filtrovat","common.loading":"NaÄÃ­tÃ¡nÃ­...","common.error":"Vyskytla se chyba","common.success":"ÃšspÄ›ch!","a11y.skip_to_content":"PÅ™eskoÄit na hlavnÃ­ obsah","a11y.close_menu":"ZavÅ™Ã­t menu","a11y.open_menu":"OtevÅ™Ã­t menu","a11y.loading":"NaÄÃ­tÃ¡nÃ­","a11y.required_field":"PovinnÃ© pole"}},t(n,t={}){var o,a;let e=((o=this.translations[this.currentLanguage])==null?void 0:o[n])||((a=this.translations[this.defaultLanguage])==null?void 0:a[n])||n;return Object.keys(t).forEach(r=>{e=e.replace(`{${r}}`,t[r])}),e},setLanguage(n){return this.supportedLanguages[n]?(this.currentLanguage=n,localStorage.setItem("permaculture_language",n),document.documentElement.lang=n,window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:n}})),!0):!1},getLanguage(){return this.currentLanguage},getSupportedLanguages(){return this.supportedLanguages},init(){var e;const n=localStorage.getItem("permaculture_language");if(n&&this.supportedLanguages[n]){this.setLanguage(n);return}const t=(e=navigator.language)==null?void 0:e.split("-")[0];if(t&&this.supportedLanguages[t]){this.setLanguage(t);return}this.setLanguage(this.defaultLanguage)},getAllTranslations(){return this.translations[this.currentLanguage]},isLanguageSupported(n){return!!this.supportedLanguages[n]}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>_.init()):_.init();const h={BASE_URL:"/Permahub/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_VERSION:"1.0.78",VITE_BUILD_TIME:"2025-11-27T00:04:10.501Z",VITE_COMMIT_HASH:"17a3af6",VITE_SUPABASE_ANON_KEY:"sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH",VITE_SUPABASE_SERVICE_ROLE_KEY:"sb_secret_N7UND0UgjKTVK-Uodkm0Hg_xSvEMPvz",VITE_SUPABASE_URL:"http://127.0.0.1:3000"};function f(n,t=""){return typeof import.meta<"u"&&h?h[n]||t:typeof window<"u"&&window.ENV&&window.ENV[n]?window.ENV[n]:t}function k(){if(typeof window>"u")return!0;const n=window.location.hostname;return n==="localhost"||n==="127.0.0.1"||n===""}function v(){if(typeof import.meta<"u"&&h)return!0;const n=f("VITE_USE_CLOUD_DB",null);return n==="true"?!0:n==="false"?!1:!k()}const d=v(),l={url:d?"https://mcbxbaggjaxqfdvmrqsc.supabase.co":"http://127.0.0.1:3000",anonKey:d?"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jYnhiYWdnamF4cWZkdm1ycXNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1MDE4NDYsImV4cCI6MjA3ODA3Nzg0Nn0.agjLGl7uW0S1tGgivGBVthHWAgw0YxHjJNLHkhsViO0":"sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH",isUsingCloud:d};class w{constructor(t){this.url=t.url,this.anonKey=t.anonKey,this.authToken=null,this.user=null,this.logConnection()}logConnection(){}isTokenExpired(){const t=localStorage.getItem("token_expiry");return t?Date.now()>=parseInt(t):!0}async refreshToken(){const t=localStorage.getItem("refresh_token");if(!t)return console.log("âš ï¸ No refresh token available"),!1;try{console.log("ðŸ”„ Attempting to refresh expired token...");const e=await fetch(`${this.url}/auth/v1/token?grant_type=refresh_token`,{method:"POST",headers:{"Content-Type":"application/json",apikey:l.anonKey},body:JSON.stringify({refresh_token:t})});if(e.ok){const o=await e.json();this.authToken=o.access_token,localStorage.setItem("auth_token",o.access_token);const a=Date.now()+o.expires_in*1e3;return localStorage.setItem("token_expiry",a.toString()),o.refresh_token&&localStorage.setItem("refresh_token",o.refresh_token),console.log("âœ… Token refreshed successfully"),!0}else return console.log("âŒ Token refresh failed:",e.status),!1}catch(e){return console.error("âŒ Token refresh error:",e),!1}}async request(t,e,o=null){let a=this.authToken;a&&this.isTokenExpired()&&(console.log("âš ï¸ Token expired, attempting refresh..."),await this.refreshToken()?a=this.authToken:(console.log("âš ï¸ Token refresh failed, falling back to anonymous access"),a=null,this.authToken=null)),a=a||l.anonKey;const r=`${this.url}/rest/v1${e}`;console.log(`ðŸŒ [Supabase ${t}] ${r}`),console.log("  Headers:",{"Content-Type":"application/json",apikey:`${l.anonKey.substring(0,20)}...`,Authorization:`Bearer ${a.substring(0,20)}...`}),o&&console.log("  Body:",o);const s={method:t,headers:{"Content-Type":"application/json",apikey:l.anonKey,Authorization:`Bearer ${a}`}};(t==="POST"||t==="PATCH")&&(s.headers.Prefer="return=representation"),o&&(s.body=JSON.stringify(o));try{const c=performance.now(),i=await fetch(r,s),m=(performance.now()-c).toFixed(2);if(console.log(`  âœ… Response: ${i.status} ${i.statusText} (${m}ms)`),console.log("  CORS Headers:",{"Access-Control-Allow-Origin":i.headers.get("Access-Control-Allow-Origin"),"Content-Type":i.headers.get("Content-Type")}),!i.ok){const g=await i.json();throw console.error("  âŒ Error response:",g),new Error(g.message||`API Error: ${i.status}`)}if(i.status===204)return console.log("  âœ… No content returned (successful update/delete)"),null;const p=i.headers.get("Content-Type");if(!p||!p.includes("application/json"))return console.log("  âœ… No JSON content returned (successful operation)"),null;const u=await i.json();return console.log("  ðŸ“¦ Data received:",Array.isArray(u)?`${u.length} records`:"single record"),u}catch(c){throw console.error("âŒ Supabase API Error:",c),console.error("  URL:",r),console.error("  Method:",t),c}}async getAll(t,e={}){let o=`/${t}`;if(e.select&&(o+=`?select=${encodeURIComponent(e.select)}`),["wiki_guides","wiki_events","wiki_locations"].includes(t)&&!e.includeDeleted){const r=o.includes("?")?"&":"?";o+=`${r}deleted_at=is.null`}if(e.where){const r=e.operator||"eq",s=o.includes("?")?"&":"?";o+=`${s}${e.where}=${r}.${e.value}`}if(e.limit){const r=o.includes("?")?"&":"?";o+=`${r}limit=${e.limit}`}if(e.order){const r=o.includes("?")?"&":"?";o+=`${r}order=${e.order}`}return this.request("GET",o)}async getOne(t,e){return this.request("GET",`/${t}?id=eq.${e}`)}async insert(t,e){return this.request("POST",`/${t}`,e)}async update(t,e,o){return this.request("PATCH",`/${t}?id=eq.${e}`,o)}async delete(t,e){return this.request("DELETE",`/${t}?id=eq.${e}`)}async softDelete(t,e,o){return console.log(`ðŸ—‘ï¸ Soft deleting ${t} record ${e} by user ${o}`),this.update(t,e,{deleted_at:new Date().toISOString(),deleted_by:o,status:"archived"})}async restore(t,e,o){console.log(`â™»ï¸ Restoring ${t} record ${e} by user ${o}`);const a=await this.getOne(t,e);if(!a||a.length===0)throw new Error("Record not found");const r=a[0];if(!r.deleted_at)throw new Error("Record is not deleted");if(r.deleted_by!==o)throw new Error("Only the user who deleted this content can restore it");return this.update(t,e,{deleted_at:null,deleted_by:null,status:"draft"})}async getDeletedContent(t,e,o=50){return console.log(`ðŸ—‘ï¸ Fetching deleted content from ${t} for user ${e}`),this.getAll(t,{where:"deleted_by",operator:"eq",value:e,order:"deleted_at.desc",limit:o})}async signUp(t,e){try{const o=await fetch(`${this.url}/auth/v1/signup`,{method:"POST",headers:{"Content-Type":"application/json",apikey:l.anonKey},body:JSON.stringify({email:t,password:e})}),a=await o.json();if(!o.ok)throw new Error(a.error_description||a.message||"Sign up failed");if(a.session&&(this.authToken=a.session.access_token,this.user=a.user,localStorage.setItem("auth_token",this.authToken),localStorage.setItem("user",JSON.stringify(this.user)),a.session.refresh_token&&localStorage.setItem("refresh_token",a.session.refresh_token),a.session.expires_in)){const r=Date.now()+a.session.expires_in*1e3;localStorage.setItem("token_expiry",r.toString())}return a}catch(o){throw console.error("Sign up error:",o),o}}async signIn(t,e){try{const o=await fetch(`${this.url}/auth/v1/token?grant_type=password`,{method:"POST",headers:{"Content-Type":"application/json",apikey:l.anonKey},body:JSON.stringify({email:t,password:e})}),a=await o.json();if(!o.ok)throw new Error(a.error_description||a.message||"Sign in failed");if(a.access_token&&(this.authToken=a.access_token,this.user=a.user,localStorage.setItem("auth_token",this.authToken),localStorage.setItem("user",JSON.stringify(this.user)),a.refresh_token&&localStorage.setItem("refresh_token",a.refresh_token),a.expires_in)){const r=Date.now()+a.expires_in*1e3;localStorage.setItem("token_expiry",r.toString())}return a}catch(o){throw console.error("Sign in error:",o),o}}async signInWithMagicLink(t){try{console.log("ðŸ“§ Sending magic link request to:",`${this.url}/auth/v1/otp`),console.log("ðŸ“§ Request body:",{email:t,options:{email_redirect_to:window.location.origin+"/src/wiki/wiki-home.html"}});const e=await fetch(`${this.url}/auth/v1/otp`,{method:"POST",headers:{"Content-Type":"application/json",apikey:l.anonKey},body:JSON.stringify({email:t,options:{email_redirect_to:window.location.origin+"/src/wiki/wiki-home.html"}})}),o=await e.json();if(console.log("ðŸ“§ Magic link response status:",e.status),console.log("ðŸ“§ Magic link response data:",o),!e.ok){const a=o.error_description||o.error||o.message||o.msg||"Magic link failed";throw console.error("âŒ Magic link failed with error:",a),new Error(a)}return o}catch(e){throw console.error("Magic link error:",e),e}}async signOut(){this.authToken=null,this.user=null,localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("refresh_token"),localStorage.removeItem("token_expiry")}async getCurrentUser(){const t=localStorage.getItem("auth_token"),e=localStorage.getItem("user");if(t&&e){if(this.isTokenExpired()){if(console.log("âš ï¸ Stored token is expired, attempting refresh..."),this.authToken=t,!await this.refreshToken())return console.log("âš ï¸ Token refresh failed, clearing invalid session"),this.authToken=null,this.user=null,localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("token_expiry"),localStorage.removeItem("refresh_token"),null}else this.authToken=t;return this.user=JSON.parse(e),this.user}return null}async signUp(t,e,o={}){try{console.log("ðŸ“ Signing up new user:",t),console.log("ðŸ“ Metadata:",o);const a=await fetch(`${this.url}/auth/v1/signup`,{method:"POST",headers:{"Content-Type":"application/json",apikey:l.anonKey},body:JSON.stringify({email:t,password:e,data:{username:o.username,full_name:o.full_name}})}),r=await a.json();if(console.log("ðŸ“ Signup response status:",a.status),console.log("ðŸ“ Signup response data:",r),!a.ok){const s=r.error_description||r.error||r.message||r.msg||"Signup failed";throw console.error("âŒ Signup failed with error:",s),new Error(s)}return r}catch(a){throw console.error("Signup error:",a),a}}async checkUsernameAvailability(t){try{console.log("ðŸ” Checking username availability:",t);const o=(await this.getAll("users",{select:"username",where:"username",operator:"eq",value:t})).length===0;return console.log(`ðŸ” Username "${t}" is ${o?"available":"taken"}`),o}catch(e){return console.error("Username check error:",e),!1}}async resetPasswordForEmail(t){try{console.log("ðŸ”‘ Sending password reset email to:",t);const e=await fetch(`${this.url}/auth/v1/recover`,{method:"POST",headers:{"Content-Type":"application/json",apikey:l.anonKey},body:JSON.stringify({email:t,options:{redirect_to:window.location.origin+"/src/wiki/wiki-reset-password.html"}})}),o=await e.json();if(console.log("ðŸ”‘ Password reset response status:",e.status),console.log("ðŸ”‘ Password reset response data:",o),!e.ok){const a=o.error_description||o.error||o.message||o.msg||"Password reset failed";throw console.error("âŒ Password reset failed with error:",a),new Error(a)}return o}catch(e){throw console.error("Password reset error:",e),e}}async updatePassword(t){try{console.log("ðŸ”’ Updating password...");const e=localStorage.getItem("auth_token");if(!e)throw new Error("No active session. Please log in first.");const o=await fetch(`${this.url}/auth/v1/user`,{method:"PUT",headers:{"Content-Type":"application/json",apikey:l.anonKey,Authorization:`Bearer ${e}`},body:JSON.stringify({password:t})}),a=await o.json();if(console.log("ðŸ”’ Password update response status:",o.status),console.log("ðŸ”’ Password update response data:",a),!o.ok){const r=a.error_description||a.error||a.message||a.msg||"Password update failed";throw console.error("âŒ Password update failed with error:",r),new Error(r)}return a}catch(e){throw console.error("Password update error:",e),e}}async createUserProfile(t,e){return this.insert("users",{id:t,email:e.email,full_name:e.fullName,location:e.location,bio:e.bio,skills:e.skills||[],interests:e.interests||[],looking_for:e.lookingFor||[],is_public_profile:e.isPublicProfile!==!1,profile_completed:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}async getProjectsByLocation(t,e,o=50){try{return(await this.getAll("projects",{select:"*",where:"status",operator:"eq",value:"active"})).filter(r=>!r.latitude||!r.longitude?!1:this.calculateDistance(t,e,r.latitude,r.longitude)<=o)}catch(a){return console.error("Error fetching projects by location:",a),[]}}calculateDistance(t,e,o,a){const s=(o-t)*Math.PI/180,c=(a-e)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))}async searchProjects(t){try{const e=await this.getAll("projects",{select:"*",where:"status",operator:"eq",value:"active"}),o=t.toLowerCase();return e.filter(a=>a.name.toLowerCase().includes(o)||a.description.toLowerCase().includes(o)||a.techniques&&a.techniques.some(r=>r.toLowerCase().includes(o)))}catch(e){return console.error("Error searching projects:",e),[]}}async getUserProfile(t){try{const e=await this.getAll("users",{select:"*",where:"id",operator:"eq",value:t});return e.length>0?e[0]:null}catch(e){return console.error("Error fetching user profile:",e),null}}async updateUserProfile(t,e){return this.update("users",t,{...e,updated_at:new Date().toISOString()})}async getResources(t={}){return this.getAll("resources",{select:"*",where:"availability",operator:"eq",value:t.availability||"available",limit:t.limit||50,order:t.order||"created_at.desc"})}async searchResources(t){try{const e=await this.getAll("resources",{select:"*",where:"availability",operator:"neq",value:"archived"}),o=t.toLowerCase();return e.filter(a=>a.title.toLowerCase().includes(o)||a.description.toLowerCase().includes(o)||a.tags&&a.tags.some(r=>r.toLowerCase().includes(o)))}catch(e){return console.error("Error searching resources:",e),[]}}async rpc(t,e={}){try{const o=await fetch(`${this.url}/rest/v1/rpc/${t}`,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.anonKey,Authorization:`Bearer ${this.authToken||this.anonKey}`,Prefer:"return=representation"},body:JSON.stringify(e)}),a=await o.json();return o.ok?{data:a,error:null}:{data:null,error:a}}catch(o){return console.error(`Error calling RPC function ${t}:`,o),{data:null,error:o}}}}console.log("ðŸ”§ Initializing Supabase Client with config:",l);const y=new w(l);typeof window<"u"&&window.addEventListener("DOMContentLoaded",async()=>{await y.getCurrentUser()});
